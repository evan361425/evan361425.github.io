
<!DOCTYPE html>

<html class="no-js" lang="zh-Hant">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="各種紀錄和心得" name="description"/>
<link href="https://evan361425.github.io/feedback/designing-data-intensive-applications/" rel="canonical"/>
<link href="../" rel="prev"/>
<link href="foundation-model/" rel="next"/>
<link href="../../assets/images/favicon.png" rel="icon"/>
<meta content="mkdocs-1.4.2, mkdocs-material-9.0.5" name="generator"/>
<meta content="COb7MqeOYLfRXXUOsXWaQvnr1_Xb33a0aP_Y8UC3U5Y" name="google-site-verification">
<title>Designing Data-Intensive Applications - 心得與記錄</title>
<link href="../../assets/stylesheets/main.558e4712.min.css" rel="stylesheet"/>
<link href="../../assets/stylesheets/palette.2505c338.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=-apple-system,+BlinkMacSystemFont,+" rel="stylesheet" segoe+ui",+"helvetica+neue",+helvetica,+roboto,+arial,+"pingfang+tc",+"microsoft+jhenghei",+"微軟正黑",+sans-serif,+"apple+color+emoji",+"segoe+ui+emoji",+"segoe+ui+symbol":300,300i,400,400i,700,700i%7croboto+mono:400,400i,700,700i&display='fallback"'/>
<style>:root{--md-text-font:"-apple-system, BlinkMacSystemFont, "Segoe UI", "Helvetica Neue", Helvetica, Roboto, Arial, "PingFang TC", "Microsoft JhengHei", "微軟正黑", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"";--md-code-font:"Roboto Mono"}</style>
<link href="../../stylesheets/custom.css" rel="stylesheet"/>
<script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
<script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-P67FD9XP83"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-P67FD9XP83",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-P67FD9XP83",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>
<script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
</meta></head>
<body data-md-color-accent="light-blue" data-md-color-primary="indigo" data-md-color-scheme="default" dir="ltr">
<script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#designing-data-intensive-applications">
          跳轉到
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header md-header--lifted" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="心得與記錄" class="md-header__button md-logo" data-md-component="logo" href="../.." title="心得與記錄">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"></path></svg>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            心得與記錄
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Designing Data-Intensive Applications
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-label="黑夜降臨" class="md-option" data-md-color-accent="light-blue" data-md-color-media="(prefers-color-scheme: light)" data-md-color-primary="indigo" data-md-color-scheme="default" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_2" hidden="" title="黑夜降臨">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"></path></svg>
</label>
<input aria-label="白日昇起" class="md-option" data-md-color-accent="deep-orange" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-primary="blue-grey" data-md-color-scheme="slate" id="__palette_2" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="白日昇起">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"></path></svg>
</label>
</form>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="搜尋" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="搜尋" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"></path></svg>
</button>
</nav>
<div class="md-search__suggest" data-md-component="search-suggest"></div>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            正在初始化搜尋引擎
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header__source">
<a class="md-source" data-md-component="source" href="https://github.com/evan361425/evan361425.github.io" title="前往倉庫">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    GitHub
  </div>
</a>
</div>
</nav>
<nav aria-label="Tabs" class="md-tabs" data-md-component="tabs">
<div class="md-tabs__inner md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link" href="../..">
      自我介紹
    </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link md-tabs__link--active" href="../">
        心得
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../essay/">
        隨筆
      </a>
</li>
</ul>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary md-nav--lifted" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="心得與記錄" class="md-nav__button md-logo" data-md-component="logo" href="../.." title="心得與記錄">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"></path></svg>
</a>
    心得與記錄
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-component="source" href="https://github.com/evan361425/evan361425.github.io" title="前往倉庫">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    GitHub
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../..">
        自我介紹
      </a>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" id="__nav_2" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../">心得</a>
<label for="__nav_2">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-label="心得" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
          心得
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_2" id="__nav_2_2" type="checkbox"/>
<div class="md-nav__link md-nav__link--index md-nav__link--active">
<a href="./">Designing Data-intensive Applications</a>
<label for="__nav_2_2">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-label="Designing Data-intensive Applications" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_2">
<span class="md-nav__icon md-icon"></span>
          Designing Data-intensive Applications
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="foundation-model/">
        基礎—模型和語法
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="foundation-index/">
        基礎—索引
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="foundation-dw/">
        基礎—資料倉儲
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="foundation-encode/">
        基礎—編碼和進程
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="foundation-ft/">
        基礎—容錯
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="distributed-replication/">
        分散式—複製
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="distributed-partition/">
        分散式—分區
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="distributed-env/">
        分散式—環境
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="distributed-ft/">
        分散式—容錯
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="derived-batch/">
        衍生—批次處理
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="derived-stream/">
        衍生—串流處理
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="farewell/">
        總結和整合
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="glossary/">
        詞彙表
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_3" id="__nav_2_3" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../distributed-systems-with-node.js/">Distributed Systems with Node.js</a>
<label for="__nav_2_3">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-label="Distributed Systems with Node.js" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_3">
<span class="md-nav__icon md-icon"></span>
          Distributed Systems with Node.js
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../distributed-systems-with-node.js/protocol/">
        協定
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../distributed-systems-with-node.js/sla-and-load-testing/">
        SLA 和負載測試
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../distributed-systems-with-node.js/observability/">
        可觀測性
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../distributed-systems-with-node.js/container/">
        容器化
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../distributed-systems-with-node.js/container-orchestration-and-misc/">
        容器調度工具和其他
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_4" id="__nav_2_4" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../future-of-fusion-energy/">Future Of Fusion Energy[寫作中]</a>
<label for="__nav_2_4">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-label="Future Of Fusion Energy[寫作中]" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_4">
<span class="md-nav__icon md-icon"></span>
          Future Of Fusion Energy[寫作中]
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../future-of-fusion-energy/energy/">
        能源
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../future-of-fusion-energy/fusion/">
        核融合
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../adaptive-concurrency/">
        Adaptive Concurrency
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_6" id="__nav_2_6" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../physics/">Physics</a>
<label for="__nav_2_6">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-label="Physics" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_6">
<span class="md-nav__icon md-icon"></span>
          Physics
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../physics/astronomy/">
        天文學
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../physics/special-relativity/">
        狹義相對論[寫作中]
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" id="__nav_3" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../../essay/">隨筆</a>
<label for="__nav_3">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-label="隨筆" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
          隨筆
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../essay/2022-ai-review/">
        2022 AI 回顧
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_3" id="__nav_3_3" type="checkbox"/>
<label aria-expanded="false" class="md-nav__link" for="__nav_3_3" tabindex="0">
          系統架構類
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="系統架構類" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_3">
<span class="md-nav__icon md-icon"></span>
          系統架構類
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../essay/architecture/made-container/">
        如何製作 Docker Container
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../essay/architecture/pki-checklist/">
        建置 PKI 注意事項
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../essay/architecture/replace-docker-desktop/">
        取代 Docker Desktop
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../essay/architecture/tomcat-max-packet-size/">
        Tomcat 的 max_packet_size
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_4" id="__nav_3_4" type="checkbox"/>
<label aria-expanded="false" class="md-nav__link" for="__nav_3_4" tabindex="0">
          程式語言類
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="程式語言類" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_4">
<span class="md-nav__icon md-icon"></span>
          程式語言類
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../essay/code/node.js-best-practice/">
        Node.js 最佳實作
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../essay/code/node.js-error/">
        Node.js 的錯誤有哪些
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../essay/code/object-oriented-terms/">
        物件導向名詞
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_5" id="__nav_3_5" type="checkbox"/>
<label aria-expanded="false" class="md-nav__link" for="__nav_3_5" tabindex="0">
          網路相關
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="網路相關" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_5">
<span class="md-nav__icon md-icon"></span>
          網路相關
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../essay/web/network-routing/">
        網路怎麼傳
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../essay/web/network-details/">
        網路傳了什麼
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../essay/web/tcp/">
        TCP
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../essay/web/ntp/">
        NTP
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../essay/web/retry-strategy/">
        Retry 的策略
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../essay/web/certificate-transparency/">
        Certificate Transparency
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../essay/web/url-structure/">
        URL 長什麼樣子
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_6" id="__nav_3_6" type="checkbox"/>
<label aria-expanded="false" class="md-nav__link" for="__nav_3_6" tabindex="0">
          網路安全
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="網路安全" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_6">
<span class="md-nav__icon md-icon"></span>
          網路安全
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../essay/web-security/cross-origin-resources-sharing/">
        CORS
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../essay/web-security/mixed-content/">
        Mixed Content
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../essay/web-security/owasp-api-top10/">
        OWASP API Top 10
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../essay/web-security/owasp-authentication-best-practice/">
        OWASP 驗證機制最佳指南
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../essay/web-security/owasp-mobile-risk-top10/">
        OWASP 行動裝置風險
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_7" id="__nav_3_7" type="checkbox"/>
<label aria-expanded="false" class="md-nav__link" for="__nav_3_7" tabindex="0">
          其他
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="其他" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_7">
<span class="md-nav__icon md-icon"></span>
          其他
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../essay/gpl-check/">
        GPL 的檢查
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../essay/nginx-changelog/">
        Nginx 1.18 到 1.22 的差異
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../essay/questionnaire-principal/">
        問卷設計指南
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="目錄" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      目錄
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#_1">
    報告進程
  </a>
<nav aria-label="報告進程" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_2">
    資料模型和語法
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_3">
    索引
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_4">
    資料倉儲
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_5">
    編碼和進程
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_6">
    處理競賽情況
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_7">
    分散式資料庫—複製
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_8">
    分散式資料庫—分區
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_9">
    分散式系統的環境
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_10">
    分散式系統的容錯
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_11">
    批次處理
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_12">
    串流處理
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_13">
    總結和整合
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_14">
    貫穿本書的目的
  </a>
<nav aria-label="貫穿本書的目的" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_15">
    可靠性
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_16">
    可延展性
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_17">
    可維護性
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_18">
    結論
  </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1 id="designing-data-intensive-applications">Designing Data-Intensive Applications<a class="headerlink" href="#designing-data-intensive-applications" title="Permanent link">¶</a></h1>
<p><figure><img alt="Designing Data-Intensive Applications' profile" src="https://images-na.ssl-images-amazon.com/images/I/51ZSpMl1-LL._SX379_BO1,204,203,200_.jpg"/><figcaption>Designing Data-Intensive Applications' profile</figcaption></figure></p>
<p>2020 5 月已銷售 100,000 本，且是 2019 年 O’Reilly 所有作品銷量第二名的作品（<a href="https://www.amazon.com/Hands-Machine-Learning-Scikit-Learn-TensorFlow/dp/1492032646/ref=as_li_ss_tl?ie=UTF8&amp;linkCode=ll1&amp;tag=dataintensive-20&amp;linkId=7d47ed0da85dc67659afbfbbad99f6ec&amp;language=en_US">第一名是機器學習的</a>）。</p>
<div class="admonition info">
<p class="admonition-title">Martin Kleppmann</p>
<p><img align="left" alt="artin Kleppmann" src="https://martin.kleppmann.com/images/martin-kleppmann.jpg" width="140"/></p>
<ul>
<li>在劍橋大學擔任資深研究員，並於研究所教授 <em>分散式系統</em>。</li>
<li>經營一個超讚的<a href="https://martin.kleppmann.com">部落格</a>。</li>
<li>多項開源軟體，包括 <a href="https://github.com/automerge/automerge">Automerge</a>，<a href="https://avro.apache.org/">Apache Avro</a> 和 <a href="https://samza.apache.org/">Apache Samza</a> 等。</li>
<li>創立兩家公司分別於 2009 被 Red Gate Software 和 2012 被 LinkedIn 收購</li>
</ul>
</div>
<p><strong>Table of contents</strong></p>
<ol>
<li>Foundation of Data Systems<ol>
<li>Reliable, Scalable, and Maintainable Applications【34】<sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup></li>
<li>Data Models and Query Languages【49】</li>
<li>Storage and Retrieval【64】</li>
<li>Encoding and Evolution【54】</li>
</ol>
</li>
<li>Distributed Data<ol>
<li>Replication【61】</li>
<li>Partitioning【33】</li>
<li>Transactions【54】</li>
<li>The Trouble with Distributing Systems【95】</li>
<li>Consistency and Consensus【110】</li>
</ol>
</li>
<li>Derived Data<ol>
<li>Batch Processing【81】</li>
<li>Stream Processing【100】</li>
<li>The Future of Data Systems【114】</li>
</ol>
</li>
</ol>
<div class="admonition quote">
<p class="admonition-title">身為一個應用程式開發者，我該如何看待本書</p>
<p>如果你能夠了解資料庫的內部運作方式，你就能有一個較開闊和清楚的視野去看待哪種工具或是參數的調校是最適合你的應用程式。雖然本書不會有任何產品的細節介紹，卻會讓你在看資料庫文件時，暸解不同名詞其背後可能代表的優劣勢。</p>
<p>As an application developer you’re armed with this knowledge about the internals of storage engines, you are in a much better position to know which tool is best suited for your particular application. If you need to adjust a database’s tuning parameters, this understanding allows you to imagine what effect a higher or a lower value may have.
Although this chapter couldn’t make you an expert in tuning any one particular storage engine, it has hopefully equipped you with enough vocabulary and ideas that you can make sense of the documentation for the database of your choice.</p>
</div>
<div class="admonition info">
<p class="admonition-title">資料的重要性</p>
<p><a href="https://aws.amazon.com/tw/events/taiwan/2021summit/">2021 AWS Summit</a> 提到：統一資料以發揮其價值，成為資料驅動型企業，其特色：</p>
<ol>
<li>知識及力量、運用資料擴展企業洞察力和決策權</li>
<li>將資料大眾化，建立安全系統來收集、儲存及處理資料，提供給需要的人員和應用程式</li>
<li>以創新方式讓資料發揮功用：資料科學、機器學習</li>
</ol>
</div>
<h2 id="_1">報告進程<a class="headerlink" href="#_1" title="Permanent link">¶</a></h2>
<p>可以去<a href="https://hackmd.io/@Lu-Shueh-Chou?tags=%5B%22DDIA%22%5D">HackMD 報告文本</a>查看各章，裡面會整理成較適合報告的形式。</p>
<h3 id="_2"><a href="foundation-model/">資料模型和語法</a><a class="headerlink" href="#_2" title="Permanent link">¶</a></h3>
<p>對應書中的 <em>Data Models and Query Languages</em>，展示各種資料模型<sup id="fnref:2"><a class="footnote-ref" href="#fn:2">2</a></sup>和比較。</p>
<div class="admonition question">
<p class="admonition-title">人際關係</p>
<p>假設有 <span class="arithmatex">\(N\)</span> 個點，點和點的連結就會有 <span class="arithmatex">\(\frac{N^2-N}{2}\)</span> 個。</p>
<p><img alt="" src="https://i.imgur.com/ZA55CVw.png" width="100"/>
<img alt="" src="https://i.imgur.com/xXU7GA4.png" width="100"/></p>
<p>試想有百萬個社交媒體的用戶，若要使用 MySQL 建立一個彼此之間認識與否的人際網絡會需要多少 entry？這時候有沒有除了 Relational Model 之外的選擇？</p>
</div>
<ul>
<li>關聯式模型 v.s. 文件式模型</li>
<li><abbr title="graph model； 一種資料結構，由點（vertices，可以指向的東西，也稱為 nodes 或 entities）和邊（從一個點到另一個頂點的連線，也稱為 relationships 或 arcs）組成。">圖像式模型</abbr></li>
<li>搜尋語言</li>
</ul>
<h3 id="_3"><a href="foundation-index/"><abbr title="index； 一種資料結構。透過索引，你可以根據特定欄位的值，在所有資料記錄中進行高效檢索。">索引</abbr></a><a class="headerlink" href="#_3" title="Permanent link">¶</a></h3>
<p>對應書中 <em>Storage and Retrieval</em> 的前半段，如何加速資料的讀取。</p>
<div class="admonition question">
<p class="admonition-title">雙索引</p>
<p>MySQL 每次下 query 只會遵從其中一個 index，為什麼？若要做多個索引，需要犧牲什麼？</p>
<p>有些情況必須要雙索引，例如：地理位置中的經緯度，只搜尋經度的話效能的提升有限。</p>
</div>
<ul>
<li>散列式索引</li>
<li>排序字串表</li>
<li>B 樹</li>
<li><abbr title="secondary index； 與資料一起維護的附加資料結構，使你可以高效地搜尋與某種條件相匹配的記錄。">次級索引</abbr></li>
<li>多欄位索引、模糊索引、完全內存</li>
</ul>
<h3 id="_4"><a href="foundation-dw/"><abbr title="data warehouse； 一種資料庫，其中的資料來自（透過 ETL 資料庫且資料倉儲中的資料通常已經被整合並準備用於分析目的。">資料倉儲</abbr></a><a class="headerlink" href="#_4" title="Permanent link">¶</a></h3>
<p>對應書中 <em>Storage and Retrieval</em> 的後半段，如何區分線上和後台的資源。</p>
<div class="admonition question">
<p class="admonition-title">數據分析</p>
<p>如果我們要分析線上使用者的資料，如何避面和線上使用者搶效能？</p>
</div>
<ul>
<li><em><abbr title="Online Transaction Processing； 線上異動處理。其模式為快速查詢，讀取或寫入少量或特定的資料，這些資料通常透過鍵索引。">OLTP</abbr></em> 和 <em><abbr title="Online Analytic Processing； 線上分析處理。其特徵為聚合大量的資料，例如，計數，總和，平均。">OLAP</abbr></em></li>
<li>列式資料庫</li>
<li>特殊綱目</li>
<li>壓縮</li>
</ul>
<h3 id="_5"><a href="foundation-encode/">編碼和進程</a><a class="headerlink" href="#_5" title="Permanent link">¶</a></h3>
<p>對應書中的 <em>Encoding and Evolution</em>，資料庫的編碼最佳化和前後相容。</p>
<div class="admonition question">
<p class="admonition-title">舊版編碼如何讀新版資料</p>
<p>追求資料體積的極致壓縮，管理（Maintainable）也很重要。若資料庫同時存在新版和舊版的資料，如何避免編碼失效？</p>
</div>
<ul>
<li>程式編碼、跨語言編碼</li>
<li>二進位編碼</li>
<li>使用場景<ul>
<li>透過資料庫</li>
<li>REST 和 RPC</li>
<li>非同步訊息傳遞</li>
</ul>
</li>
</ul>
<h3 id="_6"><a href="foundation-ft/">處理競賽情況</a><a class="headerlink" href="#_6" title="Permanent link">¶</a></h3>
<p>對應書中的 <em>Transaction</em>，如何避免競賽情況（race condition）帶來的錯誤狀態。</p>
<div class="admonition question">
<p class="admonition-title">訂票問題</p>
<p>兩個用戶同一時間訂購限量票種且目前僅剩一張，應用程式利用 Read-Decision-Write 的機制，會讓兩人同時訂購成功。該怎麼避免？</p>
</div>
<ul>
<li><abbr title="isolation； 在交易上下文中，用於描述並行執行交易的互相干擾程度。序列化隔離性具有最強的隔離性，不過其它程度的隔離也通常被使用。">隔離性</abbr>、容錯性、一致性</li>
<li><em><abbr title="transaction； 為了簡化容錯（fault tolerance）和並行（concurrency）問題，將幾個讀寫操作分組到一個邏輯單元中。">交易</abbr></em></li>
<li>競賽狀況<ul>
<li>使用提交後的資料</li>
<li>快照隔離</li>
<li>寫入偏斜</li>
</ul>
</li>
<li><abbr title="serializable； 保證多個併發交易同時執行時，它們的行為與按順序逐個執行交易相同。">序列化</abbr><ul>
<li>實際序列化</li>
<li><abbr title="2PL, two-phase locking； 一種用於實現序列化隔離的演算法，該演算法會賦予鎖於交易中所有接觸到的資料，直到交易結束。">兩階段鎖</abbr></li>
<li>序列化快照</li>
</ul>
</li>
</ul>
<h3 id="_7"><a href="distributed-replication/">分散式資料庫—<abbr title="replication； 在幾個節點（或稱 replica）上保留相同資料的副本，以便在某些節點無法訪問時，資料仍可訪問。">複製</abbr></a><a class="headerlink" href="#_7" title="Permanent link">¶</a></h3>
<p>對應書中的 <em>Replication</em>，如何動態複製資料到多台資料庫中，以達成：</p>
<ul>
<li>降低負載</li>
<li>高可用性（High Availability）</li>
<li>拉近和服務請求的距離（Geographically Close）</li>
</ul>
<div class="admonition question">
<p class="admonition-title">複製延遲</p>
<p>當機器在做複製的時候，若是 <strong>機器A</strong> 完成複製而 <strong>機器B</strong> 還沒，使用者重新載入頁面可能會有不同的結果。</p>
<p>甚至在複製到 <strong>機器B</strong> 的時候網路中斷，該怎麼達成一致性？</p>
</div>
<ul>
<li>有什麼方式？<ul>
<li>單一領袖</li>
<li>多領袖</li>
<li>無領袖(Dynamo-style)</li>
</ul>
</li>
<li>權衡<ul>
<li><abbr title="synchronous； 呼叫工作後等待其完成再繼續執行其他工作。異步的反義詞。反義：異步">同步</abbr> v.s. <abbr title="asynchronous； 呼叫工作後繼續執行其他工作，而不等待其完成（例如網路請求）。非同步工作不會假設其需要完成的時間。反義：同步">異步</abbr></li>
<li>一致性 v.s. 可用性</li>
</ul>
</li>
</ul>
<h3 id="_8"><a href="distributed-partition/">分散式資料庫—<abbr title="partitioning, sharding； 將單機上的大型資料集或計算結果拆分為較小部分，並將其分佈到多臺機器上。">分區</abbr></a><a class="headerlink" href="#_8" title="Permanent link">¶</a></h3>
<p>對應書中的 <em>Partition</em>，如何動態分區資料到多台資料庫中，以避免單台機器無法負荷過大的資料量（並非流量）。</p>
<p><figure><img alt="複製和分區通常是並行的" src="https://github.com/Vonng/ddia/raw/master/img/fig6-1.png"/><figcaption>複製和分區通常是並行的</figcaption></figure></p>
<div class="admonition question">
<p class="admonition-title">平均分配</p>
<p>以 user ID 作為分區的鍵值為例。當社交軟體中的一位名人發文時，特定分區會有不對稱的大流量，如何避免。</p>
</div>
<ul>
<li>三大問題<ul>
<li>要怎麼分區</li>
<li>要怎麼路由</li>
<li>要怎麼平衡</li>
</ul>
</li>
<li>如何整合不同分區的資料</li>
<li>次索引</li>
</ul>
<h3 id="_9"><a href="distributed-env/">分散式系統的環境</a><a class="headerlink" href="#_9" title="Permanent link">¶</a></h3>
<p>對應書中的 <em>The Trouble with Distributed Systems</em>，在分散式資料庫下，你會面臨的狀況<sup id="fnref:3"><a class="footnote-ref" href="#fn:3">3</a></sup>和應如何看待。</p>
<div class="admonition tip">
<p class="admonition-title">Debug</p>
<p>在找尋錯誤的時候，我們會先假設基礎服務是正確回應的。並在此假設之上開始找錯，當這個錯誤用了兩天（很難重現）去找，你可能就需要開始質疑最一開始的假設了。這就是本章嘗試讓大家去感受的，同時也試著說明<a href="#_10"><abbr title="consensus； 分散式系統的一個基本問題：該怎麼讓幾個節點同意某些結果（例如，哪個節點應該是資料庫叢集的領導者）。問題比乍看起來要困難得多。">共識</abbr></a>的重要性和價值。</p>
</div>
<ul>
<li>三大問題<ul>
<li>網際網路</li>
<li>當日時鐘</li>
<li>執行緒延宕</li>
</ul>
</li>
</ul>
<h3 id="_10"><a href="distributed-ft/">分散式系統的容錯</a><a class="headerlink" href="#_10" title="Permanent link">¶</a></h3>
<p>對應書中的 <em>Consistency and Consensus</em>，利用 <em><abbr title="consensus； 分散式系統的一個基本問題：該怎麼讓幾個節點同意某些結果（例如，哪個節點應該是資料庫叢集的領導者）。問題比乍看起來要困難得多。">共識</abbr></em> 達成一致性<sup id="fnref:4"><a class="footnote-ref" href="#fn:4">4</a></sup>和容錯的服務。</p>
<div class="admonition tip">
<p class="admonition-title">觀念</p>
<p>共識演算法已經發展幾十年了，仍然有許多待研究的地方，但是它的價值是什麼？</p>
<p>以機器學習來說，讓其發展蓬勃的價值在於用機器做預測、分析和選擇，那共識演算法呢？</p>
<p>本書的重點一直都不是對演算法和工具做細節討論，不管是使用 Raft、Paxos 等等的共識演算法，他都是嘗試在<a href="#_9">分散式系統的環境</a>提到的各種問題之上建立一個擁有和多台機器協商並達成容錯能力高的演算法，而又有哪些狀況是可以做權衡的。</p>
</div>
<ul>
<li>三個系統<ul>
<li>線性系統</li>
<li><abbr title="causality； 事件之間的依賴關係，當一件事發生在另一件事情之前。例如，後面的事件是對早期事件的回應，或者依賴於更早的事件，或者應該根據先前的事件來理解。">因果關係</abbr></li>
<li><abbr title="consensus； 分散式系統的一個基本問題：該怎麼讓幾個節點同意某些結果（例如，哪個節點應該是資料庫叢集的領導者）。問題比乍看起來要困難得多。">共識</abbr></li>
</ul>
</li>
<li>全域順序廣播</li>
</ul>
<hr/>
<p><strong>前面都在講針對單一應用程式的資料庫，現在試著把把鏡頭拉遠。現在來看看不同應用程式之間的交流、衍伸和整合。</strong></p>
<div class="admonition example">
<p class="admonition-title"><abbr title="cache； 一種架構中的元件，透過儲存最近使用過的資料，加快未來對相同資料的讀取速度。因為快取中通常存放部分資料，所以如果快取中缺少某些資料，則必須從某些底層較慢的資料儲存系統中，獲取完整的資料副本。">快取</abbr></p>
<p>最直觀的衍生資料（Derived Data）就是快取，我從資料庫裡拉出一些資料放進快取，加速應用程式進程。</p>
</div>
<h3 id="_11"><a href="derived-batch/"><abbr title="batch process； 一種計算方式，它將一些固定的（量通常很大）資料作為輸入，經過一些計算後把新的資料作為輸出。過程中並不會修改輸入的資料源。">批次處理</abbr></a><a class="headerlink" href="#_11" title="Permanent link">¶</a></h3>
<p>對應書中的 <em>Batch Processing</em>，討論批次處理的理念和價值。</p>
<div class="admonition question">
<p class="admonition-title">排程工作</p>
<p><abbr title="batch process； 一種計算方式，它將一些固定的（量通常很大）資料作為輸入，經過一些計算後把新的資料作為輸出。過程中並不會修改輸入的資料源。">批次處理</abbr>（batch job）和排程工作（cron job）是兩件事情。</p>
<p>排程打 API 做 search-index、推薦系統和分析等等，然後再把結果產出在資料庫中。如果程式碼寫錯了，導致線上資料庫崩壞，該怎麼退版到舊資料？</p>
</div>
<div class="admonition question">
<p class="admonition-title">概念</p>
<p>HDFS 概念很單純，分散式的資料系統。但是為什麼近十幾年來才開始普遍？</p>
<p>Hadoop 之上，衍伸很多產品，為什麼？</p>
</div>
<ul>
<li>Unix 工具的哲學</li>
<li>MapReduce on Hadoop</li>
<li>資料流引擎</li>
</ul>
<h3 id="_12"><a href="derived-stream/"><abbr title="stream process； 一種一直保持計算的處理方式。可以持續接收事件流作為輸入，並得出一些輸出。">串流處理</abbr></a><a class="headerlink" href="#_12" title="Permanent link">¶</a></h3>
<p>對應書中的 <em>Stream Processing</em>，如何把即時資料轉換成事件並處理。</p>
<div class="admonition question">
<p class="admonition-title">按讚數</p>
<p>臉書中，我們可以看到每個貼文的按讚數和部分按讚人的名字。</p>
<ul>
<li>如何快取每篇貼文的總按讚數？</li>
<li>部分按讚人的名字是針對你可能認識的人做顯示，今天有一個你認識的朋友按該貼文「讚」，如何快速且有效率地讓認識該按讚人在顯示該貼文的時候能顯示其名字？</li>
</ul>
</div>
<ul>
<li>Change Data Capture(CDC)</li>
<li>Event Sourcing</li>
<li>中介者、日誌型中介者</li>
</ul>
<h3 id="_13"><a href="farewell/">總結和整合</a><a class="headerlink" href="#_13" title="Permanent link">¶</a></h3>
<p>對應書中的 <em>The Future of Data Systems</em>，整合前面的內容，並做出一個強健的應用程式。</p>
<p><figure><img alt="有什麼好的架構可以滿足高容錯、高可用和高複雜度呢？" src="https://i.imgur.com/pNzIrnw.png"/><figcaption>有什麼好的架構可以滿足高容錯、高可用和高複雜度呢？</figcaption></figure></p>
<h2 id="_14">貫穿本書的目的<a class="headerlink" href="#_14" title="Permanent link">¶</a></h2>
<p>一個應用程式需要滿足許多需求才能提供特定服務。</p>
<p><figure><img alt="應用程式架構圖" src="https://i.imgur.com/4uYcSaB.png"/><figcaption>應用程式架構圖</figcaption></figure></p>
<ul>
<li>功能性需求，例如：允許存取資料、搜尋等等。</li>
<li>非功能性需求，例如：<ul>
<li>安全性（security）</li>
<li>可靠性（reliability）</li>
<li>順從性（compliant with a standard or a spec）</li>
<li>延展性（scalability）</li>
<li>相容性（compatible with a piece of hardware or software）</li>
<li>維護性（maintainability）</li>
</ul>
</li>
</ul>
<h3 id="_15">可靠性<a class="headerlink" href="#_15" title="Permanent link">¶</a></h3>
<p>當服務發生狀況時，仍然能正確運行。狀況可能為</p>
<ul>
<li>硬體，通常是無相關性且隨機的</li>
<li>軟體，通常是系統性的且難以解決</li>
<li>人為</li>
</ul>
<p>容錯能力（Fault-tolerance）代表他能接受特定狀況的發生，並讓使用者不會受此影響。</p>
<h3 id="_16">可延展性<a class="headerlink" href="#_16" title="Permanent link">¶</a></h3>
<p>可延展性代表即使流量增加，表現仍是正常的。在討論延展性前，需定義_流量_（load）和_表現能力_（performance quantitatively）。</p>
<p>以 Twitter 的個人首頁為例，利用回應時間的百分位數（percentiles）代表表現能力，每個發布者的寫入和追隨者的讀取首頁作為流量。即使流量增加，回應時間的百分位數仍低於特定水平。</p>
<p>在一個可擴充的系統，我們可以增加機器的量（processing capacity）來維持可靠的表現能力。</p>
<h3 id="_17">可維護性<a class="headerlink" href="#_17" title="Permanent link">¶</a></h3>
<p>可維護性有很多面向，基本上來說，就是為了讓工程師和運維工程師準時。讓系統保持抽象化（把維度提高）可以降低系統的複雜性，並且讓其更容易修改和適應新的功能。</p>
<p>好的操作性（operability）代表能觀察到系統內部運作狀態和健康檢查，並且擁有高效的方式去管理。</p>
<h2 id="_18">結論<a class="headerlink" href="#_18" title="Permanent link">¶</a></h2>
<p>通常來說不會有一個辦法可以簡單且完整的讓應用程式可靠、好延展和維護。然而，都會有某種<strong>模式</strong>或<strong>工具</strong>幫助我們一個一個解決這些問題。</p>
<!-- prettier-ignore-start -->
<!-- prettier-ignore-end -->
<div class="footnote">
<hr/>
<ol>
<li id="fn:1">
<p>章節引用數，在我讀書的經驗中，可以把這個當作章節的難易度來做判斷。 <a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">↩</a></p>
</li>
<li id="fn:2">
<p>本書的中文翻譯都來自<a href="https://www.naer.edu.tw/">國家教育研究院—雙語詞彙、學術名詞暨辭書資訊網</a>。 <a class="footnote-backref" href="#fnref:2" title="Jump back to footnote 2 in the text">↩</a></p>
</li>
<li id="fn:3">
<p>在不考慮拜占庭錯誤下。 <a class="footnote-backref" href="#fnref:3" title="Jump back to footnote 3 in the text">↩</a></p>
</li>
<li id="fn:4">
<p>要注意這裡的一致性和<a href="#_6">競賽情況</a>中的 Consistency 是不一樣的。共識演算法中的 Consistency，代表在於分散式系統下如何讓多個複製（Replication）的狀態達成一致性，後者在於獨立不同的異動（transaction）並避免其交互影響而維持一致性。 <a class="footnote-backref" href="#fnref:4" title="Jump back to footnote 4 in the text">↩</a></p>
</li>
</ol>
</div>
<hr/>
<div class="md-source-file">
<small>
    
      最後更新:
      <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">2022年8月1日</span>
<br/>
        建立日期:
        <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">2021年8月25日</span>
</small>
</div>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
<div class="md-social">
<a class="md-social__link" href="https://evan361425.github.io/flutter-pos-system/PRIVACY_POLICY/" rel="noopener" target="_blank" title="Privacy Policy">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 9h5.5L13 3.5V9M6 2h8l6 6v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4c0-1.11.89-2 2-2m9 16v-2H6v2h9m3-4v-2H6v2h12Z"></path></svg>
</a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../..", "features": ["search.suggest", "search.highlight", "navigation.tabs", "navigation.tabs.sticky", "navigation.indexes", "content.code.annotate"], "search": "../../assets/javascripts/workers/search.e5c33ebb.min.js", "translations": {"clipboard.copied": "\u5df2\u8907\u88fd", "clipboard.copy": "\u8907\u88fd", "search.result.more.one": "\u6b64\u9801\u5c1a\u6709 1 \u500b\u7b26\u5408\u7684\u9805\u76ee", "search.result.more.other": "\u6b64\u9801\u5c1a\u6709 # \u500b\u7b26\u5408\u7684\u9805\u76ee", "search.result.none": "\u6c92\u6709\u7b26\u5408\u7684\u9805\u76ee", "search.result.one": "\u627e\u5230 1 \u500b\u7b26\u5408\u7684\u9805\u76ee", "search.result.other": "\u627e\u5230 # \u500b\u7b26\u5408\u7684\u9805\u76ee", "search.result.placeholder": "\u6253\u5b57\u9032\u884c\u641c\u5c0b", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
<script src="../../assets/javascripts/bundle.51d95adb.min.js"></script>
<script src="../../javascripts/custom.js"></script>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/medium-zoom/1.0.6/medium-zoom.min.js"></script>
</body>
</html>